// Based on https://observablehq.com/@xianwu/force-directed-graph-network-graph-with-arrowheads-and-lab#d3

const input = {"@context": {"@vocab": "https://schema.org/", "geosparql": "http://www.opengis.net/ont/geosparql#"}, "@graph": [{"@id": "https://biogoship.org", "@type": "ResearchProject", "identifier": "https://biogoship.org", "description": "Bio-GO-SHIP aims to become an international collaboration to measure, understand, and predict the distribution and biogeochemical role of pelagic plankton communities. The project leverages the global-reaching GO-SHIP platform and its complementary hydrographic measurements.", "name": "Bio-GO-SHIP", "url": "https://biogoship.org", "areaServed": {"@type": "Country", "name": "Global"}, "parentOrganization": {"@type": "Organization", "@id": "https://www.go-ship.org", "name": "GO-SHIP"}, "funding": {"@type": "Grant", "funder": {"@type": "Organization", "name": "National Oceanographic Partnership Program"}}}, {"@id": "https://www.ebi.ac.uk/ena/browser/view/PRJNA656268", "@type": "Dataset", "identifier": "https://www.ebi.ac.uk/ena/browser/view/PRJNA656268", "name": "Bio-GO-SHIP: Global marine 'omics studies of repeat hydrography transects", "description": "Bio-GO-SHIP: Global marine 'omics studies of repeat hydrography transects", "url": "https://www.ebi.ac.uk/ena/browser/view/PRJNA656268", "author": {"@id": "https://biogoship.org"}, "includedInDataCatalog": {"@id": "https://www.ebi.ac.uk/ena", "@type": "DataCatalog"}, "variableMeasured": {"@type": "PropertyValue", "@id": "http://purl.obolibrary.org/obo/PCO_1000004", "name": "Microbial community composition", "measurementMethod": {"@id": "https://doi.org/10.1038/s41597-021-00889-9"}}, "distribution": [{"@type": "DataDownload", "contentUrl": "https://www.ebi.ac.uk/ena/browser/view/PRJNA656268", "encodingFormat": "https://maq.sourceforge.net/fastq.shtml"}], "about": [{"@id": "https://www.goosocean.org/eov/microbial_biomass_diversity", "@type": "https://www.goosocean.org/eov", "name": "Microbial biomass and diversity EOV"}, {"@id": "https://biogoship.org/cruise/AE1319"}, {"@id": "https://biogoship.org/cruise/AMT28"}, {"@id": "https://biogoship.org/cruise/BVAL46"}, {"@id": "https://biogoship.org/cruise/C13.5/A13.5"}, {"@id": "https://biogoship.org/cruise/I07N"}, {"@id": "https://biogoship.org/cruise/I09N"}, {"@id": "https://biogoship.org/cruise/NH1418"}, {"@id": "https://biogoship.org/cruise/P18"}], "spatialCoverage": {"@type": "Place", "geo": {"@type": "GeoShape", "polygon": "110.454745 -70.000293, 110.454745 55.003817, -158 55.003817, -158 -70.000293, 110.454745 -70.000293"}}, "hasGeometry": {"@type": "http://www.opengis.net/ont/sf#Geometry", "geosparql:asWKT": {"@type": "http://www.opengis.net/ont/geosparql#wktLiteral", "@value": "POLYGON ((110.454745 -70.000293, 110.454745 55.003817, -158 55.003817, -158 -70.000293, 110.454745 -70.000293))"}, "geosparql:crs": {"@id": "http://www.opengis.net/def/crs/OGC/1.3/CRS84"}}}, {"@id": "https://biogoship.org/cruise/AE1319", "@type": "Event", "name": "AE1319", "startDate": "2013-08-26T10:45:00Z", "endDate": "2013-09-09T05:03:00Z", "description": "Bio-GO-SHIP cruise (unknown) section AE1319", "organizer": {"@id": "https://biogoship.org"}, "geosparql:hasGeometry": {"@type": "http://www.opengis.net/ont/sf#Geometry", "geosparql:asWKT": {"@type": "http://www.opengis.net/ont/geosparql#wktLiteral", "@value": "LINESTRING (-48.9980830000000012 55.0038169999999980, -45.9951829999999973 52.9960170000000019, -45.9951829999999973 52.9960170000000019, -43.0005170000000021 50.9998500000000021, -43.0005170000000021 50.9998500000000021, -40.0028170000000003 49.0017169999999993, -42.5021670000000000 47.0008499999999998, -42.5021670000000000 47.0008499999999998, -45.0024330000000035 44.9932829999999981, -45.0024330000000035 44.9932829999999981, -47.4985330000000019 43.0016829999999999, -47.4985330000000019 43.0016829999999999, -50.0005000000000024 41.0017500000000013, -52.5005499999999969 39.0007170000000016, -55.0018329999999978 37.0045169999999999, -57.5048999999999992 35.0006169999999983, -60.0001000000000033 33.0005499999999969, -64.1715329999999966 31.6680330000000012)"}, "geosparql:crs": {"@id": "http://www.opengis.net/def/crs/OGC/1.3/CRS84"}}}, {"@id": "https://biogoship.org/cruise/AMT28", "@type": "Event", "name": "AMT28", "startDate": "2018-09-25T12:35:00Z", "endDate": "2018-10-27T19:03:00Z", "description": "Bio-GO-SHIP cruise 74JC20180923 section AMT28", "organizer": {"@id": "https://biogoship.org"}, "geosparql:hasGeometry": {"@type": "http://www.opengis.net/ont/sf#Geometry", "geosparql:asWKT": {"@type": "http://www.opengis.net/ont/geosparql#wktLiteral", "@value": "LINESTRING (-5.5015999999999998 49.6381000000000014, -8.8365500000000008 48.4693830000000005, -10.3813999999999993 47.9012329999999977, -12.7325169999999996 46.0290830000000000, -13.5939499999999995 44.9650499999999980, -15.2130670000000006 42.9670330000000007, -16.0483000000000011 41.9084000000000003, -17.7161499999999990 39.7193329999999989, -18.6266829999999999 38.4958499999999972, -20.1214499999999994 36.4139169999999979, -20.9234329999999993 35.2827330000000003, -22.1368000000000009 33.0468830000000011, -22.7101830000000007 31.8574330000000003, -23.9324499999999993 29.4883169999999986, -24.3608499999999992 28.6090669999999996, -25.5210499999999989 26.2037669999999991, -26.0058669999999985 25.1789670000000001, -27.2134500000000017 22.5996670000000002, -27.7402669999999993 21.4462499999999991, -28.8167329999999993 19.0777670000000015, -28.9298830000000002 17.7418499999999995, -28.6126499999999986 15.0760830000000006, -28.2937669999999990 13.8117669999999997, -27.7090330000000016 11.4470170000000007, -27.2830499999999994 10.0643329999999995, -26.6500829999999986 7.4712670000000001, -26.3811500000000017 6.2555500000000004, -25.8357999999999990 3.8077500000000000, -24.9930330000000005 0.0017330000000000, -24.9820500000000010 -1.1504170000000000, -24.9795330000000000 -3.6890000000000001, -24.9728999999999992 -4.9847000000000001, -24.9586499999999987 -7.5485670000000002, -24.9481329999999986 -8.7627000000000006, -24.9393169999999991 -11.2617499999999993, -24.9281170000000003 -12.1024670000000008, -24.9859170000000006 -14.7787330000000008, -25.0235669999999999 -16.0324169999999988, -25.0871500000000012 -18.3390169999999983, -25.0591499999999989 -20.3802829999999986, -25.0483000000000011 -21.6094329999999992, -24.9999670000000016 -24.0000169999999997, -25.9032829999999983 -24.9058999999999990, -27.6553499999999985 -26.6553499999999985, -28.4107669999999999 -27.4107669999999999, -30.2234830000000017 -29.1275830000000013, -31.1497169999999990 -30.0059170000000002, -32.8875829999999993 -31.6143169999999998, -33.6747670000000028 -32.3753170000000026, -35.2664169999999970 -33.8290999999999968, -36.0914330000000021 -34.5805500000000023, -37.8663329999999974 -36.1671499999999995, -38.8346000000000018 -37.0120829999999970, -40.6542000000000030 -38.5838999999999999, -41.4750999999999976 -39.2096999999999980, -43.0820999999999970 -40.5202499999999972, -44.0141500000000008 -41.3708000000000027, -45.9821329999999975 -43.0046669999999978, -46.9552169999999975 -43.7905000000000015, -48.8959830000000011 -45.2974000000000032, -49.8723170000000025 -46.0175330000000002, -51.7740330000000029 -47.5653330000000025, -52.6922500000000014 -48.1985329999999976)"}, "geosparql:crs": {"@id": "http://www.opengis.net/def/crs/OGC/1.3/CRS84"}}, "identifier": "74JC20180923", "url": "https://cchdo.ucsd.edu/cruise/74JC20180923"}, {"@id": "https://biogoship.org/cruise/BVAL46", "@type": "Event", "name": "BVAL46", "startDate": "2011-09-29T01:04:00Z", "endDate": "2011-10-13T08:07:00Z", "description": "Bio-GO-SHIP cruise (unknown) section BVAL46", "organizer": {"@id": "https://biogoship.org"}, "geosparql:hasGeometry": {"@type": "http://www.opengis.net/ont/sf#Geometry", "geosparql:asWKT": {"@type": "http://www.opengis.net/ont/geosparql#wktLiteral", "@value": "LINESTRING (-64.1700000000000017 33.6640000000000015, -64.1680000000000064 35.6649999999999991, -64.1610000000000014 37.6640000000000015, -64.1479999999999961 39.4530000000000030, -64.1670000000000016 31.6649999999999991, -64.1670000000000016 31.6649999999999991, -64.1670000000000016 31.6649999999999991, -64.4650000000000034 29.6690000000000005, -64.7680000000000007 27.6679999999999993, -65.0690000000000026 25.6709999999999994, -65.3659999999999997 23.6700000000000017, -65.3659999999999997 23.6700000000000017, -65.3659999999999997 23.6700000000000017, -65.6650000000000063 21.6679999999999993, -65.8160000000000025 20.6660000000000004, -65.9669999999999987 19.6670000000000016)"}, "geosparql:crs": {"@id": "http://www.opengis.net/def/crs/OGC/1.3/CRS84"}}}, {"@id": "https://biogoship.org/cruise/C13.5/A13.5", "@type": "Event", "name": "C13.5/A13.5", "startDate": "2020-03-21T18:30:00Z", "endDate": "2020-04-17T00:16:00Z", "description": "Bio-GO-SHIP cruise 33RO20200321 section C13.5/A13.5", "organizer": {"@id": "https://biogoship.org"}, "geosparql:hasGeometry": {"@type": "http://www.opengis.net/ont/sf#Geometry", "geosparql:asWKT": {"@type": "http://www.opengis.net/ont/geosparql#wktLiteral", "@value": "LINESTRING (17.1408330000000007 -34.4433330000000026, 14.8558330000000005 -35.3206670000000003, 14.0130830000000000 -35.6476249999999979, 13.6557999999999993 -35.7862999999999971, 12.8053329999999992 -36.2241670000000013, 12.4126670000000008 -36.4628330000000034, 10.2659950000000002 -37.8222880000000004, 9.2401599999999995 -38.4140280000000018, 7.9841430000000004 -38.9421499999999980, 7.5605130000000003 -39.1204120000000017, 7.2159779999999998 -39.2629480000000015, 4.8660170000000003 -40.2363319999999973, 3.5810000000000000 -40.7635270000000034, 3.0011830000000002 -41.0045969999999969, 2.9989830000000000 -41.4971650000000025, 2.4460500000000001 -39.9741679999999988, 2.3723070000000002 -39.4064679999999967, 2.2443320000000000 -38.8030049999999989, 2.1161219999999998 -38.4504480000000015, 1.9586330000000001 -38.0946750000000023, 1.9586330000000001 -38.0946750000000023, 1.6432979999999999 -37.5890780000000007, 1.6432979999999999 -37.5890780000000007, 1.3866630000000000 -37.3119500000000031, 1.3866630000000000 -37.3119500000000031, 1.0013220000000000 -36.9996849999999995, 0.9991630000000000 -36.2982319999999987, 0.9991630000000000 -36.2982319999999987, 1.0081000000000000 -36.0140049999999974, 0.9970050000000000 -35.5002029999999991, 1.0010100000000000 -35.1634999999999991, 1.0010100000000000 -35.1634999999999991, 1.0303279999999999 -33.9346000000000032, 1.0303279999999999 -33.9346000000000032, 1.0006079999999999 -32.9998730000000009, 1.0006079999999999 -32.9998730000000009, 1.0002329999999999 -32.4033469999999966, 0.9981520000000000 -32.0004670000000004, 0.9981520000000000 -32.0004670000000004, -0.3914620000000000 -31.1160020000000017, -1.3863650000000001 -30.4759080000000004, -2.0939519999999998 -30.0204330000000006, -2.7221180000000000 -29.6132629999999999, -3.0525850000000001 -29.3983430000000006, -3.0525850000000001 -29.3983430000000006, -5.0274080000000003 -28.1051779999999987, -5.5604829999999996 -27.7535479999999986, -5.9551869999999996 -27.4919979999999988, -6.6865730000000001 -27.0071019999999997, -7.0618249999999998 -26.7565370000000016, -7.4494420000000003 -26.4984169999999999, -9.5581350000000000 -25.0804679999999998, -9.6923019999999998 -24.9888650000000005, -10.0670669999999998 -24.7241500000000016, -10.2269900000000007 -24.5791900000000005, -10.4119399999999995 -24.4111520000000013, -10.6271679999999993 -24.2138500000000008, -10.7478999999999996 -24.1043179999999992, -10.9246750000000006 -23.9465100000000000, -11.2432879999999997 -23.6519179999999984, -11.5702219999999993 -23.3531329999999997, -11.5702219999999993 -23.3531329999999997, -13.4954000000000001 -21.5744170000000004, -13.6468950000000007 -21.4324930000000009, -13.8663670000000003 -21.2280520000000017, -13.9829830000000008 -21.1196179999999991, -14.1109829999999992 -20.9984999999999999, -14.2980669999999996 -20.8276469999999989, -14.4414029999999993 -20.6969870000000000, -14.6148220000000002 -20.5396800000000006, -14.9243629999999996 -20.2548420000000000, -15.2294250000000009 -19.9742570000000015, -15.5146499999999996 -19.6957120000000003, -17.3031429999999986 -18.0634699999999988, -17.4647049999999986 -17.9119430000000008, -17.7858170000000015 -17.5972200000000001, -18.0727000000000011 -17.3135529999999989, -18.2764120000000005 -17.1140450000000008, -18.3907169999999986 -17.0012650000000001, -18.6915469999999999 -16.7041119999999985, -19.0080570000000009 -16.3919819999999987, -19.2673479999999984 -16.1348370000000010, -19.2673479999999984 -16.1348370000000010, -20.9842750000000002 -14.2720450000000003, -21.1171299999999995 -14.1256930000000001, -21.3638119999999994 -13.8544800000000006, -21.4922800000000009 -13.7137119999999992, -21.6351000000000013 -13.5557130000000008, -21.8375799999999991 -13.3345850000000006, -21.9095450000000014 -13.2537420000000008, -22.0836550000000003 -13.0626879999999996, -22.5229369999999989 -12.6010550000000006, -22.6781380000000006 -12.4380930000000003, -22.8346119999999999 -12.2750819999999994, -24.5462899999999991 -10.4796920000000000, -24.7354400000000005 -10.2792549999999991, -25.0323150000000005 -9.9833230000000004, -25.3446880000000014 -9.6401780000000006, -25.6212000000000018 -9.3522449999999999, -25.9094370000000005 -9.0514130000000002, -26.1899499999999996 -8.7585850000000001, -26.3990870000000015 -8.5393450000000009, -26.6147929999999988 -8.3140669999999997, -26.6147929999999988 -8.3140669999999997, -28.0820749999999997 -6.7426069999999996, -28.3170520000000003 -6.4640100000000000, -28.4820199999999986 -6.2678320000000003, -28.6661250000000010 -6.0488249999999999, -28.7892350000000015 -5.9022050000000004, -28.9853200000000015 -5.6679620000000002, -29.3230550000000001 -5.5777619999999999, -29.3230550000000001 -5.2661600000000002, -29.3230550000000001 -5.2661600000000002, -33.5449669999999998 -0.3985020000000000, -33.5449669999999998 -0.3985020000000000, -33.7149330000000020 0.2159500000000000, -34.8807820000000035 1.0413330000000001, -35.9781800000000018 1.1409229999999999, -35.1023479999999992 1.2683780000000000, -35.2612600000000000 1.4315629999999999, -35.3940100000000015 1.5678620000000001, -35.5686049999999980 1.7462800000000001, -35.7211879999999979 1.9038980000000001, -35.8592080000000024 2.0443129999999998, -36.1652169999999984 2.3592979999999999, -36.4774150000000006 2.6794950000000002, -36.5098119999999966 2.7106849999999998, -36.7320830000000029 2.9402670000000000, -36.9499670000000009 3.1651330000000000, -36.9499670000000009 3.1651330000000000, -38.5434479999999979 4.8621449999999999, -38.8291919999999990 5.1840719999999996, -39.1224580000000017 5.5179049999999998, -39.3858170000000030 5.8178369999999999, -39.6659130000000033 6.1348349999999998, -39.9470000000000027 6.4498670000000002, -40.2310870000000023 6.7681680000000002, -40.3403849999999977 6.8906349999999996, -40.4792369999999977 7.0458850000000002, -40.4792369999999977 7.0458850000000002, -40.6634519999999995 7.2513399999999999, -40.7976880000000008 7.4027320000000003, -41.8726819999999975 8.5724000000000000, -42.1177199999999985 8.8313500000000005, -42.2790919999999986 9.0011829999999993, -42.4192749999999990 9.1503829999999997, -42.6819149999999965 9.4261350000000004, -42.9775830000000028 9.7397220000000004, -43.2286369999999991 10.0045999999999999, -43.5240849999999995 10.3149300000000004, -43.7589669999999984 10.5632129999999993, -43.7589669999999984 10.5632129999999993, -43.9497969999999967 10.7642229999999994, -45.3002350000000007 12.2461520000000004, -45.5670179999999974 12.5424070000000007, -45.8770099999999985 12.8849680000000006, -46.1435030000000026 13.1715099999999996, -46.4608580000000018 13.4980170000000008, -46.7432280000000020 13.7891100000000009, -46.9126380000000012 13.9628379999999996, -47.0513750000000002 14.1063620000000007, -47.3554370000000020 14.4176819999999992, -47.3554370000000020 14.4176819999999992, -49.0141679999999980 16.0455700000000014, -49.2919800000000023 16.3107420000000012, -49.4496680000000026 16.4609920000000010, -49.6130300000000020 16.6157250000000012, -49.9220749999999995 16.9080520000000014, -50.2839069999999992 17.2532819999999987, -50.6093469999999996 17.5592250000000014, -50.8056500000000000 17.7460500000000003, -50.9527580000000029 17.8837699999999984, -51.2785519999999977 18.1902650000000001, -51.2785519999999977 18.1902650000000001, -52.9494120000000024 19.7586450000000013, -53.2096420000000023 20.0015250000000009, -53.5355449999999990 20.3045849999999994, -53.8303950000000029 20.5785170000000015, -53.9922269999999997 20.7303549999999994, -54.1596929999999972 20.8854919999999993, -54.3251929999999987 21.0386530000000000, -54.4903979999999990 21.1900569999999995, -54.6538830000000004 21.3409580000000005, -54.8027220000000028 21.4904949999999992, -54.9883799999999994 21.6496150000000007, -55.2366570000000010 21.8786099999999983, -55.2366570000000010 21.8786099999999983, -56.8475499999999982 23.3510269999999984, -57.0629029999999986 23.5479769999999995, -57.3942079999999990 23.8489380000000004, -57.5344899999999981 23.9759600000000006, -57.6920929999999998 24.1241349999999990, -58.0210099999999969 24.4388579999999997, -58.1858999999999966 24.0000000000000000, -58.3425549999999973 24.7461799999999990, -58.4952779999999990 24.8921379999999992, -58.6741549999999989 25.0322379999999995, -58.8737229999999983 25.1337319999999984, -59.0698470000000029 25.2328170000000007, -59.2015779999999978 25.3010629999999992, -61.1480030000000028 26.2768620000000013, -61.4370369999999966 26.4235199999999999, -61.7868470000000016 26.5976050000000015, -62.0257429999999985 26.7177030000000002, -62.1949600000000018 26.8013319999999986, -62.5772469999999998 26.9916020000000003, -62.9905800000000013 27.1980150000000016, -63.1577780000000004 27.2808850000000014, -63.3616280000000032 27.3823669999999986, -63.5674729999999997 27.4837820000000015, -63.7650649999999999 27.5796099999999988, -63.9200799999999987 27.6588950000000011, -63.9200799999999987 27.6588950000000011, -66.0396999999999963 28.7014229999999984, -66.2589969999999937 28.8096430000000012, -66.5122829999999965 28.9324219999999990, -66.6885350000000017 29.0190300000000008, -66.9098630000000014 29.1263700000000014, -67.0489350000000002 29.1947949999999992, -67.2700349999999929 29.3021129999999985, -67.4262650000000008 29.4359549999999999, -67.5679429999999996 29.5909569999999995, -67.7223579999999998 29.7600170000000013, -67.8641850000000062 29.9152529999999999, -68.0106269999999995 30.0748199999999990, -68.1601820000000060 30.2370930000000016, -68.3092720000000071 30.3992970000000007, -68.4215870000000024 30.5217479999999988, -68.4215870000000024 30.5217479999999988, -69.8687149999999946 32.0420200000000008, -69.9906519999999972 32.2080330000000004, -70.0864480000000043 32.3119299999999967, -70.2126700000000028 32.4612249999999989, -70.3645879999999977 32.6077920000000034, -70.5033070000000066 32.7552719999999979, -70.6302969999999988 32.8891360000000006, -70.7572870000000052 33.0230000000000032, -70.9463420000000013 33.2241629999999972, -71.1782029999999963 33.4680699999999973, -71.2925170000000037 33.5873679999999979, -71.4340830000000011 33.7350169999999991, -71.5531330000000025 33.8576049999999995, -71.5531330000000025 33.8576049999999995, -72.8451850000000007 33.1159230000000022, -73.1850019999999972 33.3150079999999988, -73.5069919999999968 34.5044880000000020, -73.7026879999999949 35.6171629999999979, -73.9058050000000009 35.7350649999999987, -74.2613630000000029 35.9439550000000025, -74.5678369999999973 36.0909570000000031, -74.5678369999999973 36.0909570000000031)"}, "geosparql:crs": {"@id": "http://www.opengis.net/def/crs/OGC/1.3/CRS84"}}, "identifier": "33RO20200321", "url": "https://cchdo.ucsd.edu/cruise/33RO20200321"}, {"@id": "https://biogoship.org/cruise/I07N", "@type": "Event", "name": "I07N", "startDate": "2018-04-25T09:00:00Z", "endDate": "2018-06-04T07:00:00Z", "description": "Bio-GO-SHIP cruise 33RO20180423 section I07N", "organizer": {"@id": "https://biogoship.org"}, "geosparql:hasGeometry": {"@type": "http://www.opengis.net/ont/sf#Geometry", "geosparql:asWKT": {"@type": "http://www.opengis.net/ont/geosparql#wktLiteral", "@value": "LINESTRING (40.0075000000000003 -29.9968000000000004, 41.6422000000000025 -30.0118000000000009, 42.6096000000000004 -29.9998000000000005, 43.6520999999999972 -29.9997000000000007, 44.6039999999999992 -29.9998000000000005, 45.5031000000000034 -30.0002999999999993, 46.4018000000000015 -29.9999000000000002, 47.3731999999999971 -29.9999000000000002, 48.3111000000000033 -29.9998000000000005, 49.2462000000000018 -30.0006999999999984, 50.0108999999999995 -30.0001999999999995, 51.2092000000000027 -30.0012000000000008, 51.8299000000000021 -29.9996000000000009, 54.4996999999999971 -29.9998000000000005, 54.4994999999999976 -29.9034000000000013, 54.4988999999999990 -29.4962000000000018, 54.5769000000000020 -29.4988999999999990, 54.4992999999999981 -28.9832000000000001, 54.4988000000000028 -28.9572000000000003, 54.4889000000000010 -27.4167999999999985, 54.4983000000000004 -28.4940999999999995, 54.4964999999999975 -28.3240000000000016, 54.4956999999999994 -28.3245000000000005, 54.4958000000000027 -27.9927999999999990, 54.4956999999999994 -27.9527999999999999, 54.4939999999999998 -27.6598000000000006, 54.4846000000000004 -27.3308000000000000, 54.4863000000000000 -27.0002999999999993, 54.4881999999999991 -26.7799000000000014, 54.4885000000000019 -26.6688000000000009, 54.4885999999999981 -26.6692000000000000, 54.5030000000000001 -26.3265999999999991, 54.5015000000000001 -26.0626999999999995, 54.5000000000000000 -26.0117000000000012, 54.5035999999999987 -25.6591999999999985, 54.5041000000000011 -25.5816000000000017, 54.5046999999999997 -25.3296999999999990, 54.4998000000000005 -24.9957999999999991, 54.5118000000000009 -24.9472999999999985, 54.5020999999999987 -24.6612000000000009, 54.5189999999999984 -24.3338000000000001, 54.5116000000000014 -24.0534999999999997, 54.5095000000000027 -23.9886000000000017, 54.5153000000000034 -23.6561999999999983, 54.5155000000000030 -23.6557999999999993, 54.5031000000000034 -23.3325999999999993, 54.5015000000000001 -23.3332000000000015, 54.5031999999999996 -22.9933000000000014, 54.5028999999999968 -22.9165999999999990, 54.5005999999999986 -22.4947000000000017, 54.5054999999999978 -22.0147000000000013, 54.5197999999999965 -21.9951000000000008, 54.3168999999999969 -21.4985999999999997, 54.3188000000000031 -21.5058000000000007, 54.4299999999999997 -21.2049999999999983, 54.5090000000000003 -21.0010000000000012, 54.5168000000000035 -20.5021999999999984, 54.5155000000000030 -20.5047999999999995, 54.5099999999999980 -20.3369000000000000, 54.4966000000000008 -19.9970999999999997, 54.6225000000000023 -19.6281999999999996, 54.6707999999999998 -19.4902000000000015, 54.6711000000000027 -19.4888000000000012, 54.8286000000000016 -19.0042000000000009, 54.8748999999999967 -18.8597999999999999, 54.9889999999999972 -18.5032999999999994, 54.9898999999999987 -18.5029000000000003, 54.9990000000000023 -18.1221999999999994, 55.0058000000000007 -18.0186999999999991, 54.9962999999999980 -17.3673000000000002, 54.9962999999999980 -17.3687000000000005, 54.9968999999999966 -17.3324999999999996, 54.9990999999999985 -16.7954000000000008, 54.9973999999999990 -16.4186000000000014, 54.9954999999999998 -16.2302999999999997, 54.9975999999999985 -16.2271000000000001, 55.0007000000000019 -15.6515000000000004, 55.0007000000000019 -15.5602000000000000, 55.0003000000000029 -15.0914999999999999, 55.0007999999999981 -15.0909999999999993, 55.0024999999999977 -14.6799999999999997, 55.0039000000000016 -14.5181000000000004, 55.0000000000000000 -13.9534000000000002, 54.9983000000000004 -13.9570000000000007, 54.9984999999999999 -13.8991000000000007, 54.9917000000000016 -13.3895000000000000, 54.9958000000000027 -13.1164000000000005, 54.9996999999999971 -12.8191000000000006, 54.9941999999999993 -12.2441999999999993, 54.9602999999999966 -12.2088999999999999, 54.5499000000000009 -11.8754000000000008, 54.5566999999999993 -11.8806999999999992, 54.3802999999999983 -11.7309999999999999, 54.1094000000000008 -11.4990000000000006, 53.6649000000000029 -11.1281999999999996, 53.6726999999999990 -11.1366999999999994, 53.5900999999999996 -11.0668000000000006, 53.2100999999999971 -10.7524999999999995, 52.9226999999999990 -10.5129999999999999, 52.7680999999999969 -10.3834000000000000, 52.3177000000000021 -10.0000000000000000, 52.1460999999999970 -9.8584999999999994, 51.8826999999999998 -9.6417000000000002, 51.8723000000000027 -9.6319999999999997, 51.4292999999999978 -9.2568000000000001, 51.4290000000000020 -9.2586999999999993, 51.6169000000000011 -9.1205999999999996, 51.8986999999999981 -8.9121000000000006, 52.1452999999999989 -8.7340999999999998, 52.3825000000000003 -8.5549999999999997, 52.3678000000000026 -8.5656999999999996, 52.4784999999999968 -8.4557000000000002, 52.6261000000000010 -8.3751999999999995, 52.8601999999999990 -8.1989999999999998, 52.8618999999999986 -8.1974999999999998, 53.0743000000000009 -8.1085999999999991, 53.2950000000000017 -8.0045999999999999, 53.2942999999999998 -8.0045000000000002, 53.4626000000000019 -7.7584000000000000, 53.6291999999999973 -7.5172999999999996, 53.9307999999999979 -7.0804000000000000, 53.9577999999999989 -7.0392000000000001, 54.2899999999999991 -6.5523999999999996, 54.5251000000000019 -6.2146999999999997, 54.6291000000000011 -6.0822000000000003, 54.9577000000000027 -5.5879000000000003, 55.1180000000000021 -5.3475000000000001, 55.2839999999999989 -5.1055000000000001, 55.2837999999999994 -5.1056999999999997, 55.4607999999999990 -3.7122000000000002, 55.4677999999999969 -3.7063999999999999, 55.8029000000000011 -3.4765000000000001, 56.0005000000000024 -3.2372000000000001, 56.1942000000000021 -2.9954999999999998, 56.1927000000000021 -2.9977999999999998, 56.3517000000000010 -2.8111999999999999, 56.4284000000000034 -2.7412000000000001, 56.8158999999999992 -2.2648999999999999, 56.7873000000000019 -2.2909999999999999, 56.9634000000000000 -2.0798000000000001, 57.2227999999999994 -1.7693000000000001, 57.2359000000000009 -1.2729999999999999, 57.2528999999999968 -1.2306999999999999, 57.2445000000000022 -0.8648000000000000, 57.2573999999999970 -0.8192000000000000, 57.2606999999999999 -0.5058000000000000, 57.2623999999999995 -0.5058000000000000, 57.2738999999999976 -0.2462000000000000, 57.2695000000000007 -0.0820000000000000, 57.2689999999999984 -0.0008000000000000, 57.2691999999999979 -0.0032000000000000, 57.2802999999999969 0.2468000000000000, 57.2715000000000032 0.2463000000000000, 57.2757999999999967 0.4982000000000000, 57.2809999999999988 0.4957000000000000, 57.2967999999999975 0.9314000000000000, 57.2967000000000013 1.0038000000000000, 57.2991999999999990 1.1878000000000000, 57.3042999999999978 1.1995000000000000, 57.3098000000000027 1.4607000000000001, 57.3213000000000008 1.7746999999999999, 57.3299999999999983 2.0078000000000000, 57.3327000000000027 2.0036999999999998, 57.6946999999999974 2.3984000000000001, 57.8564999999999969 2.5621000000000000, 58.0615000000000023 2.7988000000000000, 58.0630000000000024 2.7984000000000000, 58.4179999999999993 3.1844000000000001, 58.4288999999999987 3.1943999999999999, 58.7916000000000025 3.5943000000000001, 58.7882000000000033 3.6587999999999998, 59.1578999999999979 3.9971999999999999, 59.4872000000000014 4.3503999999999996, 59.5144999999999982 4.3781999999999996, 59.5244000000000000 4.3887000000000000, 59.8918000000000035 4.7965000000000000, 60.1296999999999997 5.0555000000000003, 60.2586999999999975 5.1970000000000001, 60.2623000000000033 5.2018000000000004, 60.6263999999999967 5.5952000000000002, 60.9558999999999997 5.9555999999999996, 60.9932000000000016 5.9957000000000003, 60.9906000000000006 5.9935999999999998, 61.3622000000000014 6.4020000000000001, 61.4786000000000001 6.5259000000000000, 61.7252000000000010 6.7923000000000000, 61.7254000000000005 6.7901999999999996, 62.0266999999999982 7.1237000000000004, 62.1054000000000030 7.2096000000000000, 62.4564999999999984 7.5898000000000003, 62.6450000000000031 7.7949999999999999, 62.8254999999999981 7.9896000000000003, 63.1933000000000007 8.3949999999999996, 63.1936999999999998 8.3956999999999997, 63.3325999999999993 8.5452999999999992, 63.5636999999999972 8.7947000000000006, 63.8733000000000004 9.1341000000000001, 63.9213000000000022 9.1869999999999994, 63.9314999999999998 9.1953999999999994, 64.2961999999999989 9.5968999999999998, 64.3697999999999979 9.6740999999999993, 64.6675000000000040 9.9894999999999996, 64.6659999999999968 9.9845000000000006, 64.6672999999999973 10.3668999999999993, 64.6657000000000011 10.5378000000000007, 64.6654999999999944 11.0729000000000006, 64.6650000000000063 11.0734999999999992, 64.6614000000000004 11.1310000000000002, 64.6671999999999940 11.6190999999999995, 64.6684999999999945 12.0486000000000004, 64.6677999999999997 12.1277000000000008, 64.6693000000000069 12.1593000000000000, 64.6674000000000007 12.7035000000000000, 64.6664999999999992 12.8521000000000001, 64.6692000000000036 13.2434999999999992, 64.6679000000000030 13.2422000000000004, 64.6671000000000049 13.7834000000000003, 64.6658000000000044 13.7872000000000003, 64.6681999999999988 14.3253000000000004, 64.6688000000000045 14.3194999999999997, 64.6675000000000040 14.4835999999999991, 64.6666000000000025 14.8661999999999992, 64.9205999999999932 15.0137000000000000, 65.1410000000000053 15.1411999999999995, 65.1393999999999949 15.1407000000000007, 65.6219999999999999 15.4183000000000003, 65.7164999999999964 15.4738000000000007, 66.0902999999999992 15.6882999999999999, 66.0889999999999986 15.6890000000000001, 66.4117999999999995 15.8740000000000006, 66.5690000000000026 15.9664999999999999, 67.0401999999999987 16.2358000000000011, 67.0400000000000063 16.2353999999999985, 67.3422999999999945 16.4111000000000011, 67.5151000000000039 16.5095999999999989, 67.9926999999999992 16.7850000000000001, 68.0028999999999968 16.7881999999999998, 68.4711999999999961 17.0629999999999988, 68.7013000000000034 17.1918000000000006, 68.9527999999999963 17.3319000000000010, 69.4252999999999929 17.5483000000000011, 69.4822000000000060 17.5734999999999992, 68.9855000000000018 17.7192000000000007, 68.9827999999999975 17.7201999999999984, 68.7336999999999989 17.7914999999999992, 68.4813000000000045 17.8665999999999983, 68.0139999999999958 17.9957999999999991, 68.0062999999999960 17.9986999999999995)"}, "geosparql:crs": {"@id": "http://www.opengis.net/def/crs/OGC/1.3/CRS84"}}, "identifier": "33RO20180423", "url": "https://cchdo.ucsd.edu/cruise/33RO20180423"}, {"@id": "https://biogoship.org/cruise/I09N", "@type": "Event", "name": "I09N", "startDate": "2016-03-21T17:00:00Z", "endDate": "2016-04-24T19:22:00Z", "description": "Bio-GO-SHIP cruise 33RR20160321 section I09N", "organizer": {"@id": "https://biogoship.org"}, "geosparql:hasGeometry": {"@type": "http://www.opengis.net/ont/sf#Geometry", "geosparql:asWKT": {"@type": "http://www.opengis.net/ont/geosparql#wktLiteral", "@value": "LINESTRING (110.4547450000000026 -31.0335180000000008, 110.4547450000000026 -31.0335180000000008, 109.3879129999999975 -30.8476450000000000, 108.5244229999999988 -30.6972249999999995, 107.6533170000000013 -30.5389920000000004, 106.5834179999999947 -30.3582819999999991, 105.7208329999999989 -30.2073169999999998, 104.7866499999999945 -30.0441420000000008, 103.7665769999999981 -29.8641630000000013, 103.0054319999999990 -29.7264079999999993, 101.7850729999999970 -29.5151029999999999, 100.7626329999999939 -29.3348329999999997, 99.8776830000000047 -29.1778329999999997, 98.8281499999999937 -28.9942500000000010, 98.0601670000000070 -28.8598070000000000, 97.1787329999999940 -28.7013999999999996, 96.2634330000000062 -28.5384749999999983, 94.9997670000000056 -28.3129999999999988, 95.0004169999999988 -27.7113170000000011, 94.9999250000000046 -27.3250129999999984, 94.9995150000000024 -27.1075270000000010, 94.9994879999999995 -26.5174370000000010, 94.9998329999999953 -25.9899999999999984, 95.0001830000000069 -25.9046999999999983, 94.9999830000000003 -25.6310000000000002, 94.9995629999999949 -25.3349469999999997, 95.0000500000000017 -24.9647049999999986, 94.9997450000000043 -24.7323619999999984, 94.9999830000000003 -24.4638330000000011, 94.9998999999999967 -24.1369499999999988, 95.0000000000000000 -23.8796670000000013, 95.0000780000000020 -23.5586400000000005, 95.0000670000000014 -23.3001170000000002, 94.9994879999999995 -23.0157300000000014, 95.0000730000000004 -22.6990380000000016, 94.9999169999999964 -22.4533169999999984, 94.9999920000000060 -22.1627420000000015, 95.0005230000000012 -21.8799920000000014, 95.0000030000000066 -21.6096550000000001, 95.0000469999999950 -21.3162599999999998, 94.9999499999999983 -20.7632329999999996, 94.9999499999999983 -20.7632329999999996, 94.9999169999999964 -20.5325829999999989, 94.9998829999999970 -20.1999330000000015, 94.9999499999999983 -19.8886420000000008, 95.0000000000000000 -19.6380000000000017, 94.9999399999999952 -19.2646869999999986, 94.9997120000000024 -19.0832319999999989, 94.9999669999999981 -18.7943330000000017, 94.9998169999999931 -18.5188500000000005, 95.0000000000000000 -18.2333329999999982, 94.9997319999999945 -17.9630830000000010, 94.9998999999999967 -17.6280280000000005, 95.0000000000000000 -17.3995530000000009, 94.9999669999999981 -17.0953449999999982, 94.9997769999999946 -16.8378219999999992, 95.0001500000000050 -16.5814969999999988, 94.9998619999999931 -16.2775570000000016, 95.0000000000000000 -16.0038969999999985, 94.9899999999999949 -15.7171079999999996, 95.0013000000000005 -15.4477580000000003, 94.9998570000000058 -15.1682279999999992, 94.9999830000000003 -14.9297670000000000, 94.9999399999999952 -14.6327479999999994, 94.9999499999999983 -14.3464670000000005, 94.9997670000000056 -14.0831499999999998, 94.9999770000000012 -13.8407850000000003, 94.9998719999999963 -13.5665379999999995, 94.9999880000000019 -13.2954519999999992, 95.0000000000000000 -13.0295000000000005, 94.9998999999999967 -12.7618829999999992, 95.0001000000000033 -12.4844329999999992, 94.9999820000000028 -12.2828429999999997, 94.9998729999999938 -11.9478919999999995, 95.0000330000000019 -11.6276580000000003, 94.9997000000000043 -11.4206579999999995, 94.9999830000000003 -11.1044549999999997, 94.9990329999999972 -10.8849049999999998, 95.0000229999999988 -10.6520569999999992, 94.9997230000000030 -10.3471419999999998, 94.9999920000000060 -10.1307630000000000, 94.9998999999999967 -9.8164169999999995, 95.0000579999999957 -9.5429180000000002, 95.0004469999999941 -9.2828269999999993, 94.9999880000000019 -8.9930649999999996, 94.9994700000000023 -8.7295219999999993, 95.0000450000000001 -8.4917079999999991, 94.9999700000000047 -8.2178869999999993, 95.0001029999999957 -7.9444049999999997, 95.0006450000000058 -7.6733050000000000, 95.0000119999999981 -7.3797420000000002, 95.0000600000000048 -7.1346949999999998, 94.9999799999999937 -6.9995969999999996, 95.0003169999999955 -6.5991499999999998, 94.9999629999999939 -6.3694720000000000, 95.0000280000000004 -6.0682619999999998, 94.9999820000000028 -5.7733520000000000, 95.0002369999999985 -5.5294049999999997, 94.9999629999999939 -5.2765579999999996, 95.0001180000000005 -4.9757100000000003, 94.8683170000000047 -4.5334830000000004, 94.8683170000000047 -4.5334830000000004, 94.8111750000000058 -4.3603569999999996, 94.7158419999999950 -4.0690819999999999, 94.6521719999999931 -3.8786049999999999, 94.5687130000000025 -3.6159530000000002, 94.4936299999999960 -3.3624480000000001, 94.4253020000000021 -3.1298170000000001, 94.3591049999999996 -2.9185170000000000, 94.3328400000000045 -2.8332750000000000, 94.2723170000000010 -2.6321599999999998, 94.2374219999999951 -2.5081329999999999, 94.1659949999999952 -2.3010180000000000, 94.1318629999999956 -2.2013430000000000, 94.0704829999999959 -2.0243570000000002, 94.0236069999999984 -1.8850130000000000, 93.9837019999999939 -1.7457630000000000, 93.9320120000000003 -1.5642469999999999, 93.8889719999999954 -1.4324580000000000, 93.8293479999999960 -1.2497830000000001, 93.7873320000000064 -1.1118680000000001, 93.7332069999999931 -0.9330030000000000, 93.6990129999999937 -0.8120050000000000, 93.6480530000000044 -0.6298730000000000, 93.5877169999999978 -0.4346000000000000, 93.5521520000000066 -0.3159350000000000, 93.4830680000000029 -0.1198130000000000, 93.4416729999999944 0.0006130000000000, 93.3754720000000020 0.1474630000000000, 93.3002929999999964 0.3167480000000000, 93.2094819999999942 0.3925870000000000, 93.0245670000000047 0.5481520000000000, 92.8394299999999930 0.7184980000000000, 92.7335980000000006 0.8181130000000000, 92.6333329999999933 0.9266870000000000, 92.5044919999999991 1.0983449999999999, 92.4775769999999966 1.1405050000000001, 92.2992720000000020 1.4501530000000000, 92.2109480000000019 1.6727399999999999, 92.1612219999999951 1.7988420000000001, 92.0856770000000040 2.0136270000000001, 92.0201349999999962 2.2011620000000001, 91.9447320000000019 2.4304100000000002, 91.8899380000000008 2.5984479999999999, 91.8367420000000010 2.7618469999999999, 91.7599469999999968 3.0000830000000001, 91.6562270000000012 3.2029200000000002, 91.7153729999999996 3.4310079999999998, 91.4071569999999980 3.7184480000000000, 91.3263129999999990 3.9001899999999998, 91.2065120000000036 4.0653420000000002, 91.0470880000000022 4.2852969999999999, 90.8672300000000064 4.5180330000000000, 90.7629280000000023 4.6538269999999997, 90.6217400000000026 4.8334530000000004, 90.4736199999999968 5.0245249999999997, 90.2429329999999936 5.3313499999999996, 90.1935780000000022 5.3939969999999997, 89.9095420000000018 5.6215729999999997, 89.7900269999999949 5.7631920000000001, 89.6281249999999972 5.9105530000000002, 89.6281170000000031 6.1191000000000004, 89.5641870000000040 6.2046520000000003, 89.3394299999999930 6.5015120000000000, 89.2201670000000036 6.6579480000000002, 89.0547679999999957 6.8731030000000004, 88.9089649999999949 7.0621499999999999, 88.7706950000000035 7.2410579999999998, 88.5924370000000039 7.4709950000000003, 88.4947130000000044 7.6111849999999999, 88.2017019999999974 7.9828770000000002, 88.2016619999999989 7.9828849999999996, 88.0354679999999945 8.1989579999999993, 87.9193769999999972 8.3495369999999998, 87.8309129999999953 8.4641249999999992, 87.6323969999999974 8.7201129999999996, 87.5225070000000045 8.8617600000000003, 87.3497420000000062 9.0885719999999992, 87.2500720000000030 9.2189770000000006, 87.0691479999999984 9.4581769999999992, 87.3771980000000070 9.6582430000000006, 87.0201569999999975 9.8918499999999998, 87.2993199999999945 9.9663000000000004, 87.8515230000000003 9.9664500000000000, 87.5712170000000043 9.9665820000000007, 86.7823680000000053 9.8279080000000008, 86.5059770000000015 9.8950220000000009, 85.6568819999999960 9.9531700000000001, 85.4200579999999974 9.9638600000000004, 86.0591280000000012 9.9648920000000007, 86.1999619999999993 9.9689270000000008, 84.7526069999999976 9.9724129999999995, 85.1744170000000054 9.9752569999999992, 85.7470030000000065 7.7471100000000002, 85.8931950000000057 8.0401849999999992, 85.5195080000000019 8.2565749999999998, 86.0057450000000046 8.2660429999999998, 85.2496029999999934 8.8577420000000000, 85.0361319999999949 9.3383350000000007, 86.1227779999999967 8.4999099999999999, 86.2660470000000004 8.7867200000000008, 86.4062380000000019 9.0693750000000009, 86.5238870000000020 9.3070149999999998, 86.6641670000000062 9.5940600000000007, 86.7986630000000048 9.8269520000000004, 86.9449299999999994 10.1020230000000009, 87.0622429999999952 10.2996750000000006, 87.1760900000000021 10.4908579999999994, 87.3437770000000029 10.7724720000000005, 87.5050980000000038 11.0438880000000008, 87.6232119999999952 11.2432569999999998, 87.7808569999999975 11.5082319999999996, 87.9031319999999994 11.7147179999999995, 88.0564580000000063 11.9704669999999993, 88.1810700000000054 12.1877829999999996, 88.3539219999999972 12.4742979999999992, 88.4649030000000067 12.6580720000000007, 88.5830420000000061 12.8579849999999993, 88.7444979999999930 13.1300950000000007, 88.9014379999999989 13.3940500000000000, 89.0255369999999999 13.6017820000000000, 89.1508369999999957 13.8132680000000008, 89.3061179999999979 14.0741680000000002, 89.5322369999999950 14.4504680000000008, 89.5863619999999941 14.5456050000000001, 89.6213819999999970 14.6344949999999994, 89.8168100000000038 15.0835519999999992, 89.8097350000000034 15.1647770000000008, 89.8497019999999935 15.5006749999999993, 89.8495450000000062 15.7273300000000003, 89.8496279999999956 15.9984129999999993, 89.8493279999999999 16.2614049999999999, 89.8496779999999973 16.4995599999999989, 89.8496329999999972 16.8199049999999986, 89.8340500000000048 16.9983779999999989, 89.8497119999999967 17.1236570000000015, 90.0093499999999977 17.2860769999999988, 89.8627999999999929 17.5013299999999994, 89.9217249999999950 17.6312379999999997, 89.8529450000000054 17.6369819999999997, 89.8599300000000056 17.8831249999999997, 90.1462049999999948 15.4025049999999997)"}, "geosparql:crs": {"@id": "http://www.opengis.net/def/crs/OGC/1.3/CRS84"}}, "identifier": "33RR20160321", "url": "https://cchdo.ucsd.edu/cruise/33RR20160321"}, {"@id": "https://biogoship.org/cruise/NH1418", "@type": "Event", "name": "NH1418", "startDate": "2014-09-20T19:00:00Z", "endDate": "2014-10-06T10:17:00Z", "description": "Bio-GO-SHIP cruise (unknown) section NH1418", "organizer": {"@id": "https://biogoship.org"}, "geosparql:hasGeometry": {"@type": "http://www.opengis.net/ont/sf#Geometry", "geosparql:asWKT": {"@type": "http://www.opengis.net/ont/geosparql#wktLiteral", "@value": "LINESTRING (-158.0000000000000000 19.0010000000000012, -157.6500000000000057 18.0010000000000012, -155.5699999999999932 13.0020000000000007, -155.2199999999999989 11.9990000000000006, -155.2199999999999989 11.9990000000000006, -155.2199999999999989 12.0000000000000000, -154.8700000000000045 11.0009999999999994, -154.5200000000000102 10.0020000000000007, -154.5200000000000102 10.0039999999999996, -153.1299999999999955 7.0004000000000000, -152.4300000000000068 4.9989999999999997, -151.7400000000000091 3.0007999999999999, -151.7400000000000091 3.0009999999999999, -151.3899999999999864 1.9997000000000000, -150.6999999999999886 -0.0003000000000000, -150.6999999999999886 0.0001000000000000, -150.0000000000000000 -2.0009999999999999, -149.6699999999999875 -3.0001000000000002, -149.6699999999999875 -3.0001000000000002, -150.3499999999999943 -0.9993000000000000, -150.8700000000000045 0.4971000000000000, -151.0399999999999920 0.9972000000000000, -151.2199999999999989 1.4993000000000001, -152.0900000000000034 3.9984999999999999, -153.4799999999999898 7.9993999999999996, -154.1699999999999875 9.0000999999999998, -156.2599999999999909 14.9990000000000006, -156.6100000000000136 16.0000000000000000, -157.3000000000000114 17.0000000000000000)"}, "geosparql:crs": {"@id": "http://www.opengis.net/def/crs/OGC/1.3/CRS84"}}}, {"@id": "https://biogoship.org/cruise/P18", "@type": "Event", "name": "P18", "startDate": "2016-11-20T00:25:00Z", "endDate": "2017-01-28T04:45:00Z", "description": "Bio-GO-SHIP cruise 33RO20161119 section P18", "organizer": {"@id": "https://biogoship.org"}, "geosparql:hasGeometry": {"@type": "http://www.opengis.net/ont/sf#Geometry", "geosparql:asWKT": {"@type": "http://www.opengis.net/ont/geosparql#wktLiteral", "@value": "LINESTRING (-117.5031699999999972 32.6263330000000025, -109.9996699999999947 22.0036500000000004, -109.9988299999999981 20.9932830000000017, -109.9997000000000043 19.0001829999999998, -109.9997699999999980 18.0010669999999990, -110.0010800000000017 17.0474330000000016, -110.0009299999999968 16.9996669999999988, -109.9996500000000026 16.0006169999999983, -110.0003700000000038 14.6654999999999998, -110.0006000000000057 13.9999669999999998, -110.0001500000000050 12.9998670000000001, -109.9999200000000030 11.9999330000000004, -109.9999799999999937 10.9999830000000003, -110.0000200000000063 9.9990000000000006, -110.0000000000000000 9.0000000000000000, -109.9998999999999967 7.9993670000000003, -110.0000000000000000 7.0000000000000000, -109.9970299999999952 5.9999000000000002, -110.0000200000000063 4.9407170000000002, -109.9999200000000030 4.0000999999999998, -110.0000000000000000 3.0000000000000000, -110.0020499999999970 1.9998499999999999, -109.9999200000000030 1.0000670000000000, -110.0000000000000000 0.0000000000000000, -110.0000000000000000 -1.0000000000000000, -109.9992799999999988 -1.9993500000000000, -110.0002499999999941 -3.0010500000000002, -110.0001299999999986 -3.9998000000000000, -110.0000200000000063 -4.9999500000000001, -109.5900199999999955 -5.2899000000000003, -108.3497299999999939 -6.1801170000000001, -107.1202499999999986 -7.0600170000000002, -105.4699499999999972 -8.2397329999999993, -104.2394500000000050 -9.1200170000000007, -103.1555500000000052 -9.8896999999999995, -102.9995499999999993 -10.9994499999999995, -103.0002499999999941 -12.0008499999999998, -102.9992500000000035 -12.9997330000000009, -102.9997999999999934 -13.9996329999999993, -103.0001699999999971 -15.0001329999999999, -102.9997500000000059 -15.2664500000000007, -103.0000000000000000 -17.0000000000000000, -102.9998300000000029 -17.9993170000000013, -103.0016799999999932 -19.0000830000000001, -103.0003800000000069 -20.0000329999999984, -103.0000000000000000 -21.0000000000000000, -103.0001299999999986 -22.0000500000000017, -103.0000799999999970 -23.0000830000000001, -103.0000699999999938 -23.9616830000000007, -102.9996699999999947 -23.4995830000000012, -103.0000200000000063 -23.8999999999999986, -101.5006000000000057 -25.0011830000000010, -101.4998999999999967 -26.0000169999999997, -101.5004299999999944 -27.0009000000000015, -103.0063300000000055 -29.0956669999999988, -103.0002800000000036 -30.4999000000000002, -102.9998300000000029 -31.0010000000000012, -103.0000200000000063 -31.9999000000000002, -103.0000200000000063 -33.0000829999999965, -102.6656700000000058 -34.0000000000000000, -103.0001699999999971 -34.5019670000000005, -102.9998999999999967 -36.0001000000000033, -102.9999799999999937 -37.0000000000000000, -103.0000799999999970 -38.0000330000000019, -103.0008799999999951 -38.5005669999999967, -103.0007200000000012 -39.9999329999999986, -102.9978200000000044 -40.9992000000000019, -103.0001800000000003 -42.0000670000000014, -102.9997800000000012 -41.9997830000000008, -102.9998199999999997 -42.9997830000000008, -103.0001699999999971 -44.0000829999999965, -103.0003700000000038 -44.5003170000000026, -103.0005799999999994 -46.0002169999999992, -103.0005299999999977 -47.0001170000000030, -102.9994800000000055 -47.9994170000000011, -102.9984199999999959 -48.9994500000000031, -102.9996299999999962 -50.5002830000000031, -102.9997800000000012 -51.5003829999999994, -102.9989699999999999 -52.0003999999999991, -103.0103699999999947 -52.9998999999999967, -102.9997800000000012 -54.0161170000000013, -102.9990200000000016 -55.0014830000000003, -102.9999200000000030 -55.9864829999999998, -103.0011499999999955 -56.9998170000000002, -102.9997500000000059 -58.0003170000000026, -102.9998300000000029 -59.0003000000000029, -103.0010800000000017 -60.0011670000000024, -103.0001699999999971 -61.0000000000000000, -102.9903800000000018 -62.0004830000000027, -102.9996000000000009 -62.9998670000000018, -102.9990300000000047 -63.9952669999999983, -103.0002000000000066 -64.5005500000000040, -102.9985999999999962 -65.0034670000000006, -103.0002000000000066 -65.9839999999999947, -102.9980199999999968 -66.9973329999999976, -103.0205200000000048 -67.5010999999999939, -102.9996299999999962 -67.9997829999999936, -103.0266799999999989 -68.5011329999999958, -103.0006999999999948 -69.0006999999999948, -102.9883999999999986 -69.6071330000000046, -103.0290700000000044 -69.5078670000000045, -102.0183200000000028 -69.6873169999999931, -100.6705699999999979 -69.8984329999999972, -100.2411199999999951 -70.0002929999999992)"}, "geosparql:crs": {"@id": "http://www.opengis.net/def/crs/OGC/1.3/CRS84"}}, "identifier": "33RO20161119", "url": "https://cchdo.ucsd.edu/cruise/33RO20161119"}]};
document.getElementById("jsonld").innerHTML = JSON.stringify(input, null, 2);

import jsonld from "jsonld";

async function generateGraph(input) {
    const expanded = await jsonld.expand(input);
    const nodes = {};
    const links = [];
    
    function addNode(nodes, node) {
        if (node["@id"]) {
            if (!(node["@id"] in nodes)) {
                nodes[node["@id"]] = {
                    id: node["@id"]
                };
            }
            if (node["@type"]) {
                nodes[node["@id"]]["type"] = node["@type"][0];
            }
        }
    }
    
    function addLink(links, link) {
        if (link.source && link.target) {
            links.push({
                source: link.source,
                target: link.target,
                type: link.type
            });
        }
    }

    for (const node of expanded) {
        addNode(nodes, node);
    
        // parentOrganization
    
        if ("https://schema.org/parentOrganization" in node) {
            for (const item of node["https://schema.org/parentOrganization"]) {
                addNode(nodes, item);
                addLink(links, {
                    source: node["@id"],
                    target: item["@id"],
                    type: "parentOrganization"
                });
            }
        }
    
        // about
    
        if ("https://schema.org/about" in node) {
            for (const item of node["https://schema.org/about"]) {
                addNode(nodes, item);
                addLink(links, {
                    source: node["@id"],
                    target: item["@id"],
                    type: "about"
                });
            }
        }
    
        // author
    
        if ("https://schema.org/author" in node) {
            for (const item of node["https://schema.org/author"]) {
                addNode(nodes, item);
                addLink(links, {
                    source: node["@id"],
                    target: item["@id"],
                    type: "author"
                });
            }
        }
    
        // includedInDataCatalog
    
        if ("https://schema.org/includedInDataCatalog" in node) {
            for (const item of node["https://schema.org/includedInDataCatalog"]) {
                addNode(nodes, item);
                addLink(links, {
                    source: node["@id"],
                    target: item["@id"],
                    type: "includedInDataCatalog"
                });
            }
        }
    
        // variableMeasured
    
        if ("https://schema.org/variableMeasured" in node) {
            for (const item of node["https://schema.org/variableMeasured"]) {
                addNode(nodes, item);
                addLink(links, {
                    source: node["@id"],
                    target: item["@id"],
                    type: "variableMeasured"
                });
            }
        }
    
    }
    
    const nodeIds = Object.entries(nodes).reduce((acc, [key, value], index) => {
        acc[key] = index;
        return acc;
    }, {});
    
    const jsonGraph = {
        nodes: Object.entries(nodes).map(([key, value]) => ({
            id: nodeIds[key],
            name: value.id,
            label: value.id,
            group: value.type,
            runtime: 100
        })),
        links: links.map(link => ({
            source: nodeIds[link.source],
            target: nodeIds[link.target],
            type: link.type
        }))
    }

    return jsonGraph;
}

import * as d3 from "d3";

const jsonGraph = await generateGraph(input);
drawGraph(jsonGraph);

async function updateGraph() {
    const jsonGraph = await generateGraph(JSON.parse(document.getElementById("jsonld").value));
    console.log(jsonGraph);
    drawGraph(jsonGraph);
}
document.getElementById("visualize").addEventListener("click", updateGraph);

function drawGraph(dataset) {
    
    const margin = {top: 30, right: 80, bottom: 5, left: 5};
    const width = 1140;
    const height = 750;
    
    const colorScale = d3.scaleOrdinal()
        .range(['#d53e4f','#f46d43','#fdae61','#fee08b','#e6f598','#abdda4','#66c2a5','#3288bd']);
    
    const simulation = d3.forceSimulation()
        .force("link", d3.forceLink().id(d => d.id).distance(150)) 
        .force("charge", d3.forceManyBody().strength(-180))
        .force("center", d3.forceCenter(width / 2, height / 2));
    
    const div = "#container";
    document.getElementById("container").innerHTML = "";

    const svg = d3.select(div).append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
        .append("g")
        .attr("transform", `translate(${margin.left}, ${margin.top})`);
    
    function handleZoom(e) {
        svg.attr('transform', e.transform);
    }
    let zoom = d3.zoom().on('zoom', handleZoom);
    d3.select(div).select("svg").call(zoom);
    
    svg.append("defs").append("marker")
        .attr("id", "arrowhead")
        .attr("viewBox", "-0 -5 10 10")
        .attr("refX", 23)
        .attr("refY", 0)
        .attr("orient", "auto")
        .attr("markerWidth", 13)
        .attr("markerHeight", 13)
        .attr("xoverflow", "visible")
        .append("svg:path")
        .attr("d", "M 0,-5 L 10 ,0 L 0,5")
        .attr("fill", "#999")
        .style("stroke", "none");
              
    const link = svg.selectAll(".links")
        .data(dataset.links)
        .enter()
        .append("line")
        .attr("class", "links")
        .attr("marker-end", "url(#arrowhead)");
    
    link.append("title").text(d => d.type);
      
    const edgepaths = svg.selectAll(".edgepath")
        .data(dataset.links)
        .enter()
        .append("path")
        .attr("class", "edgepath")
        .attr("fill-opacity", 0)
        .attr("stroke-opacity", 0)
        .attr("id", function (d, i) {return "edgepath" + i})
        .style("pointer-events", "none");
    
    const edgelabels = svg.selectAll(".edgelabel")
        .data(dataset.links)
        .enter()
        .append("text")
        .style("pointer-events", "none")
        .attr("class", "edgelabel")
        .attr("id", function (d, i) {return "edgelabel" + i})
        .attr("font-size", 10)
        .attr("fill", "#aaa");
      
    edgelabels.append("textPath")
        .attr("xlink:href", function (d, i) {return "#edgepath" + i})
        .style("text-anchor", "middle")
        .style("pointer-events", "none")
        .attr("startOffset", "50%")
        .text(d => d.type);
        
    const node = svg.selectAll(".nodes")
        .data(dataset.nodes)
        .enter()
        .append("g")
        .attr("class", "nodes")
        .call(d3.drag()
            .on("start", dragstarted)
            .on("drag", dragged)
        );
      
    node.append("circle")
        .attr("r", d => 17)
        .style("stroke", "grey")
        .style("stroke-opacity", 0.3)
        .style("stroke-width", d => 10)
        .style("fill", d => colorScale(d.group))
      
    node.append("title")
        .text(d => d.id + ": " + d.label + " - " + d.group);
      
    node.append("text")
        .attr("dy", 3)
        .attr("dx", 0)
        .text(d => d.name);
    
    node.append("text")
        .attr("dy", 12)
        .attr("dx", 0)
        .text(d => d.group);
      
    simulation.nodes(dataset.nodes)
        .on("tick", ticked);
      
    simulation.force("link")
        .links(dataset.links);
      
    function ticked() {
        link.attr("x1", d => d.source.x)
            .attr("y1", d => d.source.y)
            .attr("x2", d => d.target.x)
            .attr("y2", d => d.target.y);
        node.attr("transform", d => `translate(${d.x},${d.y})`);
        edgepaths.attr('d', d => 'M ' + d.source.x + ' ' + d.source.y + ' L ' + d.target.x + ' ' + d.target.y);
    }
    
    function dragstarted(event, d) {
        if (!event.active) simulation.alphaTarget(0.3).restart();
        d.fy = d.y;
        d.fx = d.x;
    }
      
    function dragged(event, d) {
        d.fx = event.x;
        d.fy = event.y;
    }
    
}
